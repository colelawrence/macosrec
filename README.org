ðŸ‘‰ [[https://github.com/sponsors/xenodium][Support this work via GitHub Sponsors]]

* macosrec

Take screenshots or videos of macOS windows from the command line.

#+HTML: <img src="https://raw.githubusercontent.com/xenodium/macosrec/main/demo/record.gif" width="80%" />

#+begin_src shell
  $ macosrec
  USAGE: record-command [--list] [--screenshot <window number>] [--record <window number>] [--end]

  OPTIONS:
    -l, --list              List recordable windows.
    -s, --screenshot <window number>
                            Take a screenshot of window number.
    -r, --record <window number>
                            Start recording window number.
    -e, --end               End recording.
    -h, --help              Show help information.
#+end_src

* Screenshot

Before taking a screenshot, identify the window number using =--list=.

#+begin_src sh
  $ macosrec --list

  21902 Emacs
  22024 Dock - Desktop Picture - Stone.png
  22035 Firefox - Planet Emacslife
#+end_src

Use =--screenshot= + window number to take a screenshot.

#+begin_src sh
  ~ $ macosrec --screenshot 21902
  ~/Desktop/2023-04-14-08:21:45-Emacs.png
#+end_src

* Videos (gif)

Before taking a video, identify the window number using =--list=.

#+begin_src sh
  $ macosrec --list

  21902 Emacs
  22024 Dock - Desktop Picture - Stone.png
  22035 Firefox - Planet Emacslife
#+end_src

Use =--record= + window number to start recording a video (gif).

To end recording, send a SIGINT event (Ctrl+C from terminal). Alternatively, running =macosrec --end= from another session would also end the recording.

#+begin_src sh
  ~ $ macosrec --record 21902
  Saving...
  ~/Desktop/2023-04-14-08:21:45-Emacs.gif
#+end_src

** Optimizing gif

The gifs can get pretty large fairly quickly depending on the lenght of the recording. Consider using something like [[https://www.lcdf.org/gifsicle/][gifsicle]] to reduce size. For example:

#+begin_src sh
  gifsicle -O3 large.gif --lossy=80 -o smaller.gif
#+end_src

* Disclaimer

I built this util to record demos I post at [[https://xenodium.com][xenodium.com]]. Does the job so far, but can likely take improvements, specially around image handling efficiency. PRs totally welcome.

ðŸ‘‰ [[https://github.com/sponsors/xenodium][Support this work via GitHub Sponsors]]
